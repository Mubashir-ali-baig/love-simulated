{"ast":null,"code":"import { isBlurhashString } from '../utils/resolveSources';\nexport function getImageWrapperEventHandler(events, source) {\n  return {\n    onLoad: event => {\n      events?.onLoad?.forEach(e => e?.(event));\n      if (typeof window !== 'undefined') {\n        window.requestAnimationFrame(() => {\n          events?.onDisplay?.forEach(e => e?.());\n        });\n      }\n    },\n    onTransitionEnd: () => events?.onTransitionEnd?.forEach(e => e?.()),\n    onError: () => {\n      if (source?.uri && isBlurhashString(source?.uri)) {\n        return;\n      }\n      events?.onError?.forEach(e => e?.({\n        source: source || null\n      }));\n    }\n  };\n}","map":{"version":3,"names":["isBlurhashString","getImageWrapperEventHandler","events","source","onLoad","event","forEach","e","window","requestAnimationFrame","onDisplay","onTransitionEnd","onError","uri"],"sources":["/Users/mubashir/Documents/love-simulated/node_modules/expo-image/src/web/getImageWrapperEventHandler.ts"],"sourcesContent":["import { ImageWrapperEvents } from './ImageWrapper.types';\nimport { ImageSource } from '../Image.types';\nimport { isBlurhashString } from '../utils/resolveSources';\n\nexport function getImageWrapperEventHandler(\n  events: ImageWrapperEvents | undefined,\n  source: ImageSource\n) {\n  return {\n    onLoad: (event) => {\n      events?.onLoad?.forEach((e) => e?.(event));\n\n      if (typeof window !== 'undefined') {\n        // On Web there is no way to detect when the image gets displayed, but we can assume it happens on the repaint right after the image is successfully loaded.\n        window.requestAnimationFrame(() => {\n          events?.onDisplay?.forEach((e) => e?.());\n        });\n      }\n    },\n    onTransitionEnd: () => events?.onTransitionEnd?.forEach((e) => e?.()),\n    onError: () => {\n      // A temporary workaround for blurhash blobs throwing opaque errors when used in an img tag.\n      if (source?.uri && isBlurhashString(source?.uri)) {\n        return;\n      }\n      events?.onError?.forEach((e) => e?.({ source: source || null }));\n    },\n  };\n}\n"],"mappings":"AAEA,SAASA,gBAAgB,QAAQ,yBAAyB;AAE1D,OAAM,SAAUC,2BAA2BA,CACzCC,MAAsC,EACtCC,MAAmB;EAEnB,OAAO;IACLC,MAAM,EAAGC,KAAK,IAAI;MAChBH,MAAM,EAAEE,MAAM,EAAEE,OAAO,CAAEC,CAAC,IAAKA,CAAC,GAAGF,KAAK,CAAC,CAAC;MAE1C,IAAI,OAAOG,MAAM,KAAK,WAAW,EAAE;QAEjCA,MAAM,CAACC,qBAAqB,CAAC,MAAK;UAChCP,MAAM,EAAEQ,SAAS,EAAEJ,OAAO,CAAEC,CAAC,IAAKA,CAAC,GAAE,CAAE,CAAC;QAC1C,CAAC,CAAC;;IAEN,CAAC;IACDI,eAAe,EAAEA,CAAA,KAAMT,MAAM,EAAES,eAAe,EAAEL,OAAO,CAAEC,CAAC,IAAKA,CAAC,GAAE,CAAE,CAAC;IACrEK,OAAO,EAAEA,CAAA,KAAK;MAEZ,IAAIT,MAAM,EAAEU,GAAG,IAAIb,gBAAgB,CAACG,MAAM,EAAEU,GAAG,CAAC,EAAE;QAChD;;MAEFX,MAAM,EAAEU,OAAO,EAAEN,OAAO,CAAEC,CAAC,IAAKA,CAAC,GAAG;QAAEJ,MAAM,EAAEA,MAAM,IAAI;MAAI,CAAE,CAAC,CAAC;IAClE;GACD;AACH","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}